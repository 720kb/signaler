{"version":3,"file":"signaler-angular.min.js","sources":["../src/js/signaler.js","../src/angular/signaler.js"],"names":["window","Signaler","url","mediaConstr","sdpConstr","comunicator","myStream","getUserMediaConstraints","audio","video","sdpConstraints","mandatory","OfferToReceiveAudio","OfferToReceiveVideo","rtcConfiguration","iceServers","urls","rtcOptions","rtcDataChannelOptions","initiators","iceCandidates","peerConnections","dataChannels","approvedUsers","unknownPeerValue","canStreamOnChannel","onCreateOfferError","error","console","onSetLocalDescriptionError","onDataChannelError","channel","who","onSetRemoteDescriptionError","onCreateAnswerError","onAddIceCandidateError","onGetUserMediaError","onAddIceCandidateSuccess","theComunicator","info","onDataChannelMessage","event","data","String","indexOf","addStream","eventToSend","payload","whoami","domEventToDispatch","CustomEvent","detail","dispatchEvent","debug","onDataChannelOpen","this","send","onDataChannelClose","Object","keys","onDataChannelArrive","onDataChannelErrorBoundedToChannelAndWho","bind","onDataChannelMessageBoundedToChannelAndWho","onDataChannelOpenBoundedToChannelAndWho","onDataChannelCloseBoundedToChannelAndWho","onerror","onmessage","onopen","onclose","onSetLocalDescriptionSuccess","type","toSend","sendTo","onAnswer","answer","onSetLocalDescriptionSuccessBoundedToComunicatorAndWhoAndChannelAndAnswerAndType","setLocalDescription","RTCSessionDescription","onSetRemoteDescription","role","onAnswerBoundedToComunicatorAndChannelAndWho","createAnswer","onCreateOffer","offer","onSetLocalDescriptionSuccessBoundedToComunicatorAndWhoAndChannelAndOfferAndType","setRemoteDescription","onSetRemoteDescriptionBoundedToComunicatorAndChannelAndWhoAndRole","onIceCandidate","candidate","push","trace","Array","isArray","currentIceCandidates","candidates","splice","length","whoAmI","onSignalingStateChange","target","signalingState","onIceConnectionStateChange","iceConnectionState","onAddStream","stream","aPeerConnectedToChannel","peersConnectedToChannel","peersConnectedToChannelIndex","peersConnectedToChannelLength","userid","onRemoveStream","onNegotiationNeeded","onCreateOfferBoundedToComunicatorAndChannelAndWho","createOffer","onLocalStream","localStream","usersInChannel","usersInChannelIndex","usersInChannelLength","aUserInChannel","initRTCPeerConnection","initChannel","aPeerConnection","onIceCandidateBoundedToComunicatorAndChannelAndWho","onAddStreamBoundedToChannel","onRemoveStreamBoundedToChannel","onNegotiationNeededBoundedToComunicatorAndChannelAndWho","onIceConnectionStateChangeBoundedToComunicatorAndChannelAndWho","onDataChannelArriveBoundedToChannelAndWho","onSignalingStateChangeBoundedToComunicatorAndChannelAndWho","aDataCannel","RTCPeerConnection","createDataChannel","onicecandidate","onaddstream","onremovestream","onnegotiationneeded","oniceconnectionstatechange","ondatachannel","onsignalingstatechange","createChannel","joinChannel","streamOnChannel","onLocalStreamBoundedToComunicatorAndChannelAndWho","undefined","getUserMedia","warn","broadcast","aUserDataChannel","approve","whoToApprove","isNaN","Number","unApprove","whoToUnApprove","arrivedToMe","what","candidatesIndex","onAddIceCandidateSuccessBoundedToComunicatorAndChannelAndWho","approvedUserIndex","eventArrived","eventType","call","addIceCandidate","RTCIceCandidate","leaveChannel","close","users","forEach","anElement","removeStream","keepMyStream","aPeerInChannelName","peersInChannel","peersInChannelNames","peersInChannelNamesLength","peersInChannelIndex","stop","removeEventListener","onComunicatorResolved","resolve","createChannelBoundedToComunicator","joinChannelBoundedToComunicator","streamOnChannelBoundedToComunicator","sendToBounded","broadcastBounded","approveBoundedToComunicator","unApproveBoundedToComunicator","leaveChannelBoundedToComunicator","arrivedToMeBoundedToComunicator","toResolve","userIsPresent","defineProperties","get","addEventListener","deferred","then","Comunicator","Promise","_getPeers","_getDataChannels","_getIceCandidates","_getInititators","_getApprovedUsers","angular","module","provider","signaler","initSignaler","urlOrComunicator","getUserMediaConst","sdpConst","$get","$rootScope","$window","$log","onDataArrived","$apply","scope","$emit","onDataChannelOpened","onDataChannelClosed","onSignalerReady","onStreamArrive","onStreamEnd","onMyStream","$on"],"mappings":"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"}