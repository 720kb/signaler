{"version":3,"file":"signaler-angular.min.js","sources":["../src/js/signaler.js","../src/angular/signaler.js"],"names":["window","Signaler","url","mediaConstr","sdpConstr","comunicator","myStream","getUserMediaConstraints","audio","video","sdpConstraints","mandatory","OfferToReceiveAudio","OfferToReceiveVideo","rtcConfiguration","iceServers","urls","rtcOptions","rtcDataChannelOptions","initiators","iceCandidates","peerConnections","dataChannels","approvedUsers","unknownPeerValue","onCreateOfferError","error","console","onSetLocalDescriptionError","onDataChannelError","channel","who","onSetRemoteDescriptionError","onCreateAnswerError","onAddIceCandidateError","onGetUserMediaError","onAddIceCandidateSuccess","theComunicator","info","onDataChannelMessage","event","data","String","indexOf","addStream","eventToSend","payload","whoami","domEventToDispatch","CustomEvent","detail","dispatchEvent","debug","onDataChannelOpen","this","send","onDataChannelClose","Object","keys","onDataChannelArrive","onDataChannelErrorBoundedToChannelAndWho","bind","onDataChannelMessageBoundedToChannelAndWho","onDataChannelOpenBoundedToChannelAndWho","onDataChannelCloseBoundedToChannelAndWho","onerror","onmessage","onopen","onclose","onSetLocalDescriptionSuccess","type","toSend","sendTo","onAnswer","answer","onSetLocalDescriptionSuccessBoundedToComunicatorAndWhoAndChannelAndAnswerAndType","setLocalDescription","RTCSessionDescription","onSetRemoteDescription","role","onAnswerBoundedToComunicatorAndChannelAndWho","createAnswer","onCreateOffer","offer","onSetLocalDescriptionSuccessBoundedToComunicatorAndWhoAndChannelAndOfferAndType","setRemoteDescription","onSetRemoteDescriptionBoundedToComunicatorAndChannelAndWhoAndRole","onIceCandidate","candidate","push","trace","Array","isArray","currentIceCandidates","candidates","splice","length","whoAmI","onSignalingStateChange","target","signalingState","onIceConnectionStateChange","iceConnectionState","onAddStream","stream","aPeerConnectedToChannel","peersConnectedToChannel","peersConnectedToChannelIndex","peersConnectedToChannelLength","userid","onRemoveStream","onNegotiationNeeded","onCreateOfferBoundedToComunicatorAndChannelAndWho","createOffer","onLocalStream","localStream","initRTCPeerConnection","initChannel","aPeerConnection","onIceCandidateBoundedToComunicatorAndChannelAndWho","onAddStreamBoundedToChannel","onRemoveStreamBoundedToChannel","onNegotiationNeededBoundedToComunicatorAndChannelAndWho","onIceConnectionStateChangeBoundedToComunicatorAndChannelAndWho","onDataChannelArriveBoundedToChannelAndWho","onSignalingStateChangeBoundedToComunicatorAndChannelAndWho","aDataCannel","RTCPeerConnection","createDataChannel","onicecandidate","onaddstream","onremovestream","onnegotiationneeded","oniceconnectionstatechange","ondatachannel","onsignalingstatechange","createChannel","joinChannel","getUserMedia","onLocalStreamBoundedOnComunicator","streamOnChannel","aUserInChannel","usersInChannel","usersInChannelIndex","usersInChannelLength","broadcast","aUserDataChannel","approve","whoToApprove","isNaN","Number","warn","unApprove","whoToUnApprove","arrivedToMe","what","candidatesIndex","onAddIceCandidateSuccessBoundedToComunicatorAndChannelAndWho","approvedUserIndex","eventArrived","eventType","call","addIceCandidate","RTCIceCandidate","leaveChannel","close","users","forEach","anElement","removeStream","keepMyStream","aPeerInChannelName","peersInChannel","peersInChannelNames","peersInChannelNamesLength","peersInChannelIndex","stop","undefined","removeEventListener","onComunicatorResolved","resolve","createChannelBoundedToComunicator","joinChannelBoundedToComunicator","getUserMediaBoundedToComunicator","streamOnChannelBoundedToComunicator","sendToBounded","broadcastBounded","approveBoundedToComunicator","unApproveBoundedToComunicator","leaveChannelBoundedToComunicator","arrivedToMeBoundedToComunicator","toResolve","userIsPresent","defineProperties","get","addEventListener","deferred","then","Comunicator","Promise","_getPeers","_getDataChannels","_getIceCandidates","_getInititators","_getApprovedUsers","angular","module","provider","signaler","initSignaler","urlOrComunicator","getUserMediaConst","sdpConst","$get","$rootScope","$window","$log","onDataArrived","$apply","scope","$emit","onDataChannelOpened","onDataChannelClosed","onSignalerReady","onStreamArrive","onStreamEnd","onMyStream","$on"],"mappings":"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"}