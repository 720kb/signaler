{"version":3,"file":"signaler-angular.min.js","sources":["../src/js/signaler.js","../src/angular/signaler.js"],"names":["window","Signaler","url","mediaConstr","sdpConstr","comunicator","myStream","getUserMediaConstraints","audio","video","sdpConstraints","mandatory","OfferToReceiveAudio","OfferToReceiveVideo","rtcConfiguration","iceServers","urls","rtcOptions","rtcDataChannelOptions","initiators","iceCandidates","peerConnections","dataChannels","approvedUsers","unknownPeerValue","onCreateOfferError","error","console","onSetLocalDescriptionError","onDataChannelError","channel","who","onSetRemoteDescriptionError","onCreateAnswerError","onAddIceCandidateError","onGetUserMediaError","onAddIceCandidateSuccess","theComunicator","info","onDataChannelMessage","event","data","String","indexOf","addStream","eventToSend","payload","whoami","domEventToDispatch","CustomEvent","detail","dispatchEvent","debug","onDataChannelOpen","this","send","onDataChannelClose","Object","keys","onDataChannelArrive","onDataChannelErrorBoundedToChannelAndWho","bind","onDataChannelMessageBoundedToChannelAndWho","onDataChannelOpenBoundedToChannelAndWho","onDataChannelCloseBoundedToChannelAndWho","onerror","onmessage","onopen","onclose","onSetLocalDescriptionSuccess","type","toSend","sendTo","onAnswer","answer","onSetLocalDescriptionSuccessBoundedToComunicatorAndWhoAndChannelAndAnswerAndType","setLocalDescription","RTCSessionDescription","onSetRemoteDescription","role","onAnswerBoundedToComunicatorAndChannelAndWho","createAnswer","onCreateOffer","offer","onSetLocalDescriptionSuccessBoundedToComunicatorAndWhoAndChannelAndOfferAndType","setRemoteDescription","onSetRemoteDescriptionBoundedToComunicatorAndChannelAndWhoAndRole","onIceCandidate","candidate","push","trace","Array","isArray","currentIceCandidates","candidates","splice","length","whoAmI","onSignalingStateChange","target","signalingState","onIceConnectionStateChange","iceConnectionState","onAddStream","stream","aPeerConnectedToChannel","peersConnectedToChannel","peersConnectedToChannelIndex","peersConnectedToChannelLength","userid","onRemoveStream","onNegotiationNeeded","onCreateOfferBoundedToComunicatorAndChannelAndWho","createOffer","onLocalStream","localStream","usersInChannel","usersInChannelIndex","usersInChannelLength","aUserInChannel","initRTCPeerConnection","initChannel","aPeerConnection","onIceCandidateBoundedToComunicatorAndChannelAndWho","onAddStreamBoundedToChannel","onRemoveStreamBoundedToChannel","onNegotiationNeededBoundedToComunicatorAndChannelAndWho","onIceConnectionStateChangeBoundedToComunicatorAndChannelAndWho","onDataChannelArriveBoundedToChannelAndWho","onSignalingStateChangeBoundedToComunicatorAndChannelAndWho","aDataCannel","RTCPeerConnection","createDataChannel","onicecandidate","onaddstream","onremovestream","onnegotiationneeded","oniceconnectionstatechange","ondatachannel","onsignalingstatechange","createChannel","joinChannel","streamOnChannel","onLocalStreamBoundedToComunicatorAndChannelAndWho","undefined","getUserMedia","broadcast","aUserDataChannel","approve","whoToApprove","isNaN","Number","warn","unApprove","whoToUnApprove","arrivedToMe","what","candidatesIndex","onAddIceCandidateSuccessBoundedToComunicatorAndChannelAndWho","approvedUserIndex","eventArrived","eventType","call","addIceCandidate","RTCIceCandidate","leaveChannel","close","users","forEach","anElement","removeStream","keepMyStream","aPeerInChannelName","peersInChannel","peersInChannelNames","peersInChannelNamesLength","peersInChannelIndex","stop","removeEventListener","onComunicatorResolved","resolve","createChannelBoundedToComunicator","joinChannelBoundedToComunicator","streamOnChannelBoundedToComunicator","sendToBounded","broadcastBounded","approveBoundedToComunicator","unApproveBoundedToComunicator","leaveChannelBoundedToComunicator","arrivedToMeBoundedToComunicator","toResolve","userIsPresent","defineProperties","get","addEventListener","deferred","then","Comunicator","Promise","_getPeers","_getDataChannels","_getIceCandidates","_getInititators","_getApprovedUsers","angular","module","provider","signaler","initSignaler","urlOrComunicator","getUserMediaConst","sdpConst","$get","$rootScope","$window","$log","onDataArrived","$apply","scope","$emit","onDataChannelOpened","onDataChannelClosed","onSignalerReady","onStreamArrive","onStreamEnd","onMyStream","$on"],"mappings":"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"}