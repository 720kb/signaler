{"version":3,"file":"signaler-angular.min.js","sources":["../src/js/signaler.js","../src/angular/signaler.js"],"names":["window","Signaler","url","mediaConstr","sdpConstr","debug","comunicator","debugMode","myStream","getUserMediaConstraints","audio","video","sdpConstraints","mandatory","OfferToReceiveAudio","OfferToReceiveVideo","rtcConfiguration","iceServers","urls","rtcOptions","rtcDataChannelOptions","initiators","iceCandidates","peerConnections","dataChannels","approvedUsers","unknownPeerValue","generateError","error","domEventToDispatch","CustomEvent","detail","dispatchEvent","onCreateOfferError","console","onSetLocalDescriptionError","onDataChannelError","channel","who","onSetRemoteDescriptionError","onCreateAnswerError","onAddIceCandidateError","onGetUserMediaError","onAddIceCandidateSuccess","theComunicator","info","onDataChannelMessage","event","data","String","indexOf","addStream","eventToSend","payload","whoami","onDataChannelOpen","this","send","onDataChannelClose","Object","keys","onDataChannelArrive","onDataChannelErrorBoundedToChannelAndWho","bind","onDataChannelMessageBoundedToChannelAndWho","onDataChannelOpenBoundedToChannelAndWho","onDataChannelCloseBoundedToChannelAndWho","onerror","onmessage","onopen","onclose","onSetLocalDescriptionSuccess","type","toSend","sendTo","onAnswer","answer","onSetLocalDescriptionSuccessBoundedToComunicatorAndWhoAndChannelAndAnswerAndType","setLocalDescription","RTCSessionDescription","onSetRemoteDescription","role","onAnswerBoundedToComunicatorAndChannelAndWho","createAnswer","onCreateOffer","offer","onSetLocalDescriptionSuccessBoundedToComunicatorAndWhoAndChannelAndOfferAndType","setRemoteDescription","onSetRemoteDescriptionBoundedToComunicatorAndChannelAndWhoAndRole","onIceCandidate","candidate","push","trace","Array","isArray","currentIceCandidates","candidates","splice","length","whoAmI","onSignalingStateChange","target","signalingState","onIceConnectionStateChange","domDisconnectedEventToDispatch","iceConnectionState","onAddStream","stream","aPeerConnectedToChannel","peersConnectedToChannel","peersConnectedToChannelIndex","peersConnectedToChannelLength","userid","onRemoveStream","onNegotiationNeeded","onCreateOfferBoundedToComunicatorAndChannelAndWho","createOffer","onLocalStream","localStream","initRTCPeerConnection","initChannel","aPeerConnection","onIceCandidateBoundedToComunicatorAndChannelAndWho","onAddStreamBoundedToChannel","onRemoveStreamBoundedToChannel","onNegotiationNeededBoundedToComunicatorAndChannelAndWho","onIceConnectionStateChangeBoundedToComunicatorAndChannelAndWho","onDataChannelArriveBoundedToChannelAndWho","onSignalingStateChangeBoundedToComunicatorAndChannelAndWho","aDataCannel","RTCPeerConnection","createDataChannel","onicecandidate","onaddstream","onremovestream","onnegotiationneeded","oniceconnectionstatechange","ondatachannel","onsignalingstatechange","createChannel","joinChannel","getUserMedia","onLocalStreamBoundedOnComunicator","streamOnChannel","aUserInChannel","usersInChannel","usersInChannelIndex","usersInChannelLength","broadcast","aUserDataChannel","approve","whoToApprove","isNaN","Number","warn","unApprove","whoToUnApprove","arrivedToMe","what","candidatesIndex","onAddIceCandidateSuccessBoundedToComunicatorAndChannelAndWho","approvedUserIndex","eventArrived","eventType","call","addIceCandidate","RTCIceCandidate","leaveChannel","close","users","forEach","anElement","removeStream","keepMyStream","aPeerInChannelName","peersInChannel","peersInChannelNames","peersInChannelNamesLength","peersInChannelIndex","stop","undefined","removeEventListener","onComunicatorResolved","resolve","createChannelBoundedToComunicator","joinChannelBoundedToComunicator","getUserMediaBoundedToComunicator","streamOnChannelBoundedToComunicator","sendToBounded","broadcastBounded","approveBoundedToComunicator","unApproveBoundedToComunicator","leaveChannelBoundedToComunicator","arrivedToMeBoundedToComunicator","toResolve","userIsPresent","defineProperties","get","addEventListener","deferred","then","Comunicator","Promise","_getPeers","_getDataChannels","_getIceCandidates","_getInititators","_getApprovedUsers","angular","module","provider","signaler","initSignaler","urlOrComunicator","getUserMediaConst","sdpConst","$get","$rootScope","$window","$log","onDisconnection","$apply","$emit","onError","scope","onDataArrived","onDataChannelOpened","onDataChannelClosed","onSignalerReady","onStreamArrive","onStreamEnd","onMyStream","$on"],"mappings":"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"}