{"version":3,"sources":["channels.js"],"names":[],"mappings":";;;;;;;;;;;;;;AAEA,QAAA,iBAAA;AACA,IAAA,KAAA,QAAA,SAAA,CAAA;;AAEA,OAAA,OAAA,GAAA,gBAAA;2BAAA,SAAA;MAAA,yCAAA,mBAAA;;;AAEA,SAAA,IAAA,GAAA,UAAA,CAAA,sBAAA;AACA,QAAA,UAAA;AACA,aAAA,aAAA,MAAA,EAAA,QAAA,EAAA;;AAEA,mBAAA,IAAA,CAAA;AACA,kBAAA,KAAA;AACA,kBAAA,QAAA;SAFA,EAFA;AAMA,eAAA,OAAA,GAAA,CAAA,QAAA,CAAA,CANA;OAAA;AAQA,aAAA,aAAA,MAAA,EAAA,QAAA,EAAA,KAAA,EAAA;;AAEA,mBAAA,IAAA,CAAA;AACA,kBAAA,KAAA;AACA,kBAAA,QAAA;AACA,sBAHA;SAAA,EAFA;AAOA,eAAA,GAAA,CAAA,QAAA,EAAA,KAAA,EAPA;AAQA,eAAA,IAAA,CARA;OAAA;KATA;QAoBA,cAAA,IAAA,GAAA,EAAA,CArBA;;AAuBA,eAAA,IAAA,KAAA,CAAA,WAAA,EAAA,OAAA,CAAA,CAvBA;AAwBA,WAAA,YAAA;;AAEA,iBAAA,QAAA,GAFA;KAAA,CAxBA;GAAA,CAAA,CA4BA,KA5BA,EAAA,CAFA;CAAA","file":"channels.js","sourcesContent":["/**\n* siglr\n* 3.0.7\n*\n* \n* https://github.com/720kb/signaler\n*\n* MIT license\n* Sun Mar 06 2016\n*/\n/*global module,require*/\n\nrequire('harmony-reflect');///XXX: remove this when Proxies land in node.js\nconst Rx = require('rxjs/Rx');\n\nmodule.exports = ({channels = {}}) => {\n\n  return new Rx.Observable(subscriber => {\n    const handler = {\n      'get': (target, property) => {\n\n        subscriber.next({\n          'type': 'get',\n          'what': property\n        });\n        return target.get(property);\n      },\n      'set': (target, property, value) => {\n\n        subscriber.next({\n          'type': 'set',\n          'what': property,\n          value\n        });\n        target.set(property, value);\n        return true;\n      }\n    }\n    , internalMap = new Map();\n\n    channels = new Proxy(internalMap, handler);\n    return () => {\n\n      subscriber.complete();\n    };\n  }).share();\n};\n"],"sourceRoot":"/source/"}